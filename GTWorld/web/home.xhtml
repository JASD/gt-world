<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:pou="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>GTWorld</title>
        <link href='resources/icon/map_blue.png' rel='shortcut icon' 
              type='image/png'/>
        <h:outputStylesheet name="css/menu.css"/>
        <h:outputStylesheet name="css/icon.css"/>
        <script src="http://maps.google.com/maps/api/js?sensor=true "   	
        type="text/javascript"></script> 
    </h:head>
    <h:body onload="#{sessionController.checkLogout()}; #{sessionController.loadVisits()}; #{sessionController.loadNotificactions()}">
        <h:form>
            <pou:commandLink ajax="false" title="Home" update=":currentUI"
                             actionListener="#{sessionController.updateUI}">
                <pou:graphicImage value="resources/img/logo_gtworld.png" 
                                  style="margin-left: 100px; margin-top: 20px"/>
                 <f:attribute name="uiName" value="home/main" />
            </pou:commandLink>

            <pou:menubar style=" display: inline-table; 
                         float: right; margin-right: 50px; margin-top: 20px">
                <pou:submenu label="  Administración" icon="admin"
                             rendered="#{sessionController.user.tipoUsuario}">
                    <pou:menuitem value="Gestión de POIs" update=":currentUI" 
                                  actionListener="#{sessionController.updateUI}">
                        <f:attribute name="uiName" value="admin/pois" />
                    </pou:menuitem>
                    <pou:menuitem value="Gestión de Redes" update=":currentUI" 
                                  actionListener="#{sessionController.updateUI}">
                        <f:attribute name="uiName" value="home/main" />
                    </pou:menuitem>
                    <pou:menuitem value="Gestión de Usuarios">

                    </pou:menuitem>
                    <pou:menuitem value="Gestión Tipos de POIs">

                    </pou:menuitem>

                </pou:submenu>
                <pou:submenu label="  POIs" icon="pois">
                    <pou:menuitem value="Crear POI">

                    </pou:menuitem>
                    <pou:menuitem value="Gestionar POIs">

                    </pou:menuitem>

                </pou:submenu>
                <pou:submenu label="  Mapas" icon="maps">
                    <pou:menuitem value="Mi Mapa">

                    </pou:menuitem>
                    <pou:menuitem value="Mi Red">

                    </pou:menuitem>

                </pou:submenu>
                <pou:submenu label="  Mi Red" icon="red">
                    <pou:menuitem value="Crear Red">

                    </pou:menuitem>
                    <pou:menuitem value="Gestionar Redes">

                    </pou:menuitem>
                    <pou:menuitem value="Gestionar Miembros">

                    </pou:menuitem>

                </pou:submenu>
                <pou:submenu label="  #{sessionController.user.nombreUsuario}"
                             icon="user">
                    <pou:menuitem value="Mi Cuenta">

                    </pou:menuitem>
                    <pou:menuitem value="Notificaciones">

                    </pou:menuitem>
                    <pou:menuitem value="Salir" 
                                  actionListener="#{sessionController.logout}">

                    </pou:menuitem>
                </pou:submenu>
            </pou:menubar>
        </h:form>
        <pou:separator style="margin-left: 50px; margin-right: 50px"/>


        <h:form id="currentUI" style="min-height: 500px; margin-left: 50px; 
                margin-right: 50px; margin-top: 10px">
            <ui:include src="#{sessionController.currentUI}" />
            <pou:growl id="messages"/>
        </h:form>

        <pou:separator style="margin-left: 50px; margin-right: 50px"/>

        <h:form>
            <h:outputLabel value="GTWorld® All Rights Reserved 2012" 
                           style="font-size: 10px; margin-left: 40%; font-family: verdana" />
            <pou:commandLink ajax="false" title="Fan Page" target="blank"
                             actionListener="#{sessionController.goFb}"
                             style="margin-left: 100px">
                <pou:graphicImage value="resources/img/facebook.png"/>
            </pou:commandLink>
            <pou:commandLink ajax="false" title="Follow Us" target="blank"
                             actionListener="#{sessionController.goTwitter}"
                             style="margin-left: 10px">
                <pou:graphicImage value="resources/img/twitter.png"/>
            </pou:commandLink>
            <pou:commandLink ajax="false" title="Ayuda" target="blank"
                             actionListener="#{sessionController.goHelp}"
                             style="margin-left: 25px">
                <pou:graphicImage value="resources/img/help.png"/>
            </pou:commandLink>
        </h:form>
        
         <ui:include src="UI/dialog/gallery.xhtml" />
         <ui:include src="UI/dialog/poi_map.xhtml" />
         <ui:include src="UI/dialog/confirm_delete_poi.xhtml" />
    </h:body>

</html>